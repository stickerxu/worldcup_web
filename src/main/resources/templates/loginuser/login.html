<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout}"
      lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>登录</title>
    <style>
        fieldset {
            font-size: x-large;
            text-align: center;
            width: 350px;
        }
        fieldset label {
            font-size: medium;
        }
        fieldset button {
            width: 80px;
        }
        fieldset form > table {
            margin: auto;
        }
        #forgetPass {
            font-size: 14px;
            text-decoration-line: none;
        }
        #loginMessage {
            color: red;
            font-size: 16px;
            font-weight: bold;
        }
    </style>
    <script>
        //点击登录，按钮失效
        $(function () {
            $('#loginForm').submit(function () {
                $('#loginButton').prop("disabled", true);
            });
        })
    </script>
</head>
<body>
<div layout:fragment="content">
    <h2>登录</h2>
    <fieldset>
        <legend>Welcome</legend>
        <form id="loginForm" th:action="@{/loginSub}" method="post">
            <p id="loginMessage" th:text="${message == null ? '' : message}"></p>
            <table>
                <tr>
                    <td>
                        <label>用户名：</label>
                    </td>
                    <td>
                        <input name="username" placeholder="username" required>
                    </td>
                </tr>
                <tr>
                    <td>
                        <label>密码：</label>
                    </td>
                    <td>
                        <input type="password" name="password" placeholder="password" required>
                    </td>
                </tr>
                <tr>
                    <td colspan="2">
                        <a id="forgetPass" th:href="@{/login/findPass}">忘记密码？</a>
                    </td>
                </tr>
            </table>
            <!--<input type="hidden" name="token" th:value="${session.token}">-->

            <div>
                <button id="loginButton">登录</button>
            </div>
        </form>
    </fieldset>
</div>
</body>
</html>